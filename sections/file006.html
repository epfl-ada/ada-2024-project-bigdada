<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File 006 – Genres</title>
    <link rel="stylesheet" href="../style.css"> 

    <!-- Adding Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>


<body>

     <!-- Hidden menu -->
     <div id="menu-overlay" class="menu-overlay"></div>
     <div id="menu" class="menu">
         <ul>
             <li><a href="../index.html">Home – Agency Debriefing</a></li>
             <li><a href="file001.html">File 001 – Score</a></li>
             <li><a href="file002.html">File 002 – Eras and Their Well-Kept Secrets</a></li>
             <li><a href="file003.html">File 003 – The Accomplices: Actors and Directors</a></li>
             <li><a href="file004.html">File 004 – The Motive: Cultural Differences</a></li>
             <li><a href="file005.html">File 005 – Productions</a></li>
             <li><a href="file006.html">File 006 – Genres and Their Suspect Conventions</a></li>
             <li><a href="file007.html">File 007 – Length of the Movie</a></li>
             <li><a href="conclusion.html">The Epilogue</a></li>
         </ul>
     </div>

    <div class="top-bar">
        <i class="fas fa-clapperboard logo"></i>
        <p>Mission Ada: Done by the BigDada team</p>
        <i class="fas fa-bars menu-icon" onclick="toggleMenu()"></i>
    </div>

    <header class="header">
        <!-- Change the header image and the title here -->
        <img src="../assets/img/header_1.png" alt="Header Banner" class="header-img">
        <div class="header-overlay">
            <h1>Genres and Happy Endings</h1>
            <p>Here, we explore the relationship between genres and happy endings</p>
        </div>
    </header>

    <main>
        <section id="file006" class="section">
            <h3>Genres</h3>
            <p>There is one last clue that could help us understand the mystery behind the ending of a movie... the genre of the movie! </p>
            <p>Let's have a closer look at the genres of the movies to see if they are linked with how the movie ends! As any good dectective, in order not to get lost in too many clues and to conduct a robust investigation, we will only have a look at the genres that contain more than 500 movies of our dataset. First, we will start with an observational analysis on our data, to get more insight on genres and their link with the ending score and to avoid jumping to conclusions too quickly! We can start by having a look at the the number of movies in each genres. </p>
            <iframe 
                id="iframe2" 
                src="../assets/img/plot_genre_counts.html" 
                style="width: 100%; border: none;">
            </iframe>
            <p>Well... it looks like some genres have been busy, and managed to be labeled for a lot of movies! We have spotted you <b>drama</b> and <b>comedy</b>! Now we know that we have to be careful with the rest of our investigation and the tests we will perform.</p>
            <p>We are now ready to dig up our first clue and compare the mean ending score between the different genres! Bonus tip: by using a bubble chart, we can keep in mind the size of the genres!</p>
            <iframe 
                id="iframe3" 
                src="../assets/img/plot_aerage_ending_score.html" 
                style="width: 100%; border: none;">
            </iframe>
            <p>Mmmh... it is not a surprising result. Indeed, we can see that the genres with the highest ending scores are <b>romantic comedies</b>, <b>musicals</b> and <b>children's movies</b>. On the other hand, the most terrible ending movies are the <b>horror movies</b>, the <b>psychological thrillers</b> and the <b>crime thrillers</b>. Our prominent genre 'drama' doesn't have a particularly high or low ending score, probably because of how many movies it contains. So from the looks of it, the ending scores do differ from one genre to another and might be linked indeed! </p>
            <p>It's time to bring in our forensic expert – the 
                <button onclick="showModal('dunn')" class="info-btn">Dunn test</button>! 
                Like a seasoned investigator, the Dunn test will carefully compare the genres to uncover significant differences in their ending scores. But before diving into this interrogation, we had to follow proper investigative protocols.
            </p>
            <p>First, we checked whether our suspects (genres) followed a normal distribution using the Shapiro-Wilk test. The results? A clear violation of normality! This ruled out the possibility of using a straightforward ANOVA test to analyze the differences in ending scores.</p>
            <p>So, we pivoted to a more robust approach – the 
                <button onclick="showModal('kruskal')" class="info-btn">Kruskal-Wallis test</button>, 
                perfect for handling such unruly data. This test confirmed that there is indeed a statistical significance in the distribution of ending scores across genres. Armed with this clue, we moved to the next stage: a pair-wise Dunn's Test to uncover which genres have significant differences in their scores (p-value < 0.05).
            </p>
            <p>Imagine each genre as a suspect in our case. The Dunn test interrogates these suspects, comparing their alibis (mean ending scores) and identifying the key outliers. Who’s responsible for the happiest endings? And which genres are leaving audiences in despair?</p>
            <p>To visualize our findings, we've prepared a heatmap. This heatmap highlights the significant differences in ending scores between genres. Brighter colors indicate the genres that truly stand out in our interrogation. Let’s reveal the evidence:</p>
            <iframe 
                id="iframe4" 
                src="../assets/img/dunn_test.html" 
                style="width: 100%; border: none;">
            </iframe>
            <p> Well, well, well... It seems we were right to have a look at those suspects, because a lot of genres have significant satistical differences regarding the ending score! For example, romantic comedies and horror movies have an important difference, which is not suprising!  <p>
            <p>Case closed? It seems like it is. While the Dunn test sheds light on the relationships between genres and ending score, the full picture requires considering all clues together. Stay sharp, detective – the next file might hold even more surprises!</p>
            
            <!-- Modal Section -->
            <div id="modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn" onclick="closeModal()">&times;</span>
                    <div id="modal-text"></div>
                </div>
            </div>
            
            <!-- Modal Styles -->
            <style>
                .info-btn {
                    background-color: #b87333; /* Copper color */
                    color: white;
                    border: none;
                    padding: 3px 8px;
                    cursor: pointer;
                    border-radius: 5px;
                    font-size: 0.9em;
                    text-decoration: none;
                    display: inline;
                }
                .info-btn:hover {
                    background-color: #d28b4d; /* Slightly lighter copper on hover */
                }
                .modal {
                    display: none;
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.5);
                    justify-content: center;
                    align-items: center;
                }
                .modal-content {
                    background-color: #fff;
                    padding: 20px;
                    border-radius: 10px;
                    text-align: center;
                    width: 80%;
                    max-width: 500px;
                }
                .close-btn {
                    color: #aaa;
                    float: right;
                    font-size: 28px;
                    font-weight: bold;
                    cursor: pointer;
                }
                .close-btn:hover {
                    color: black;
                }
            </style>
            
            <!-- Modal Scripts -->
            <script>
                function showModal(test) {
                    const modalText = document.getElementById('modal-text');
                    if (test === 'kruskal') {
                        modalText.innerHTML = `
                            <h3>Kruskal-Wallis Test</h3>
                            <p>The Kruskal-Wallis test is a non-parametric method for testing whether samples originate from the same distribution. It’s used as an alternative to one-way ANOVA when the assumption of normality is not met.</p>
                            <p>This test evaluates if there are statistically significant differences between the medians of three or more groups.</p>
                        `;
                    } else if (test === 'dunn') {
                        modalText.innerHTML = `
                            <h3>Dunn's Test</h3>
                            <p>Dunn’s test is a post-hoc analysis performed after a Kruskal-Wallis test indicates significant differences among groups. It allows for pairwise comparisons between group medians, adjusting for multiple testing.</p>
                            <p>A p-value < 0.05 indicates a significant difference between two groups.</p>
                        `;
                    }
                    document.getElementById('modal').style.display = 'flex';
                }
            
                function closeModal() {
                    document.getElementById('modal').style.display = 'none';
                }
            </script>

</script>
<script>
    function resizeIframe(iframe) {
        iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
        iframe.style.width = iframe.contentWindow.document.body.scrollWidth + 'px';
    }

    const iframes = document.querySelectorAll('iframe');
    iframes.forEach(iframe => {
        iframe.onload = () => resizeIframe(iframe);
    });
</script>


        </section>
    </main>


    <nav>
        <ul>
            <li><a href="file005.html">Previous : Productions</a></li> <!-- Lien vers la page d'accueil -->
            <li><a href="fille006.html">Next: Length of the movies</a></li> <!-- Lien vers la page suivante -->
        </ul>
    </nav>

    <script src="../scripts.js"></script>


</body>
</html>
